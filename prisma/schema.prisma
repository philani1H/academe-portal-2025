generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:../APP-Database.db"
}

model User {
  id               Int                @id @default(autoincrement())
  name             String
  email            String             @unique(map: "sqlite_autoindex_users_1")
  password_hash    String
  role             String
  createdAt        DateTime?          @default(now()) @map("created_at")
  updatedAt        DateTime?          @default(now()) @updatedAt @map("updated_at")
  courses          Course[]
  enrollments      enrollments[]
  notifications    Notification[]
  courseEnrollments CourseEnrollment[]
  testSubmissions  TestSubmission[]
  scheduledSessions ScheduledSession[]

  @@map("users")
}

model Course {
  id                Int                @id @default(autoincrement())
  name              String
  description       String?
  category          String?
  tutorId           Int?               @map("tutor_id")
  createdAt         DateTime?          @default(now()) @map("created_at")
  updatedAt         DateTime?          @default(now()) @updatedAt @map("updated_at")
  tutor             User?              @relation(fields: [tutorId], references: [id], onDelete: NoAction, onUpdate: NoAction)
  enrollments       enrollments[]
  courseEnrollments CourseEnrollment[]
  tests             Test[]
  materials         CourseMaterial[]
  announcements     CourseAnnouncement[]
  scheduledSessions ScheduledSession[]

  @@map("courses")
}

model CourseMaterial {
  id          String   @id @default(uuid())
  courseId    Int
  name        String
  type        String   // pdf, video, document
  url         String
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  course      Course   @relation(fields: [courseId], references: [id])
}

model CourseAnnouncement {
  id        String   @id @default(uuid())
  courseId  Int
  title     String
  content   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  course    Course   @relation(fields: [courseId], references: [id])
}

model CourseEnrollment {
  id        String   @id @default(uuid())
  userId    Int
  courseId  Int
  status    String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  course    Course   @relation(fields: [courseId], references: [id])
  user      User     @relation(fields: [userId], references: [id])
}

model Test {
  id          String           @id @default(uuid())
  title       String
  courseId    Int
  createdAt   DateTime         @default(now())
  updatedAt   DateTime         @updatedAt
  course      Course           @relation(fields: [courseId], references: [id])
  questions   TestQuestion[]
  submissions TestSubmission[]
}

model TestQuestion {
  id       String @id @default(uuid())
  testId   String
  question String
  options  String
  answer   String
  test     Test   @relation(fields: [testId], references: [id])
}

model TestSubmission {
  id        String   @id @default(uuid())
  userId    Int
  testId    String
  answers   String
  score     Float
  createdAt DateTime @default(now())
  test      Test     @relation(fields: [testId], references: [id])
  user      User     @relation(fields: [userId], references: [id])
}

model Notification {
  id        String   @id @default(uuid())
  userId    Int
  title     String?
  message   String
  type      String?
  read      Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  user      User     @relation(fields: [userId], references: [id])
}

model HeroContent {
  id                  String   @id @default(uuid())
  title               String
  subtitle            String
  description         String
  buttonText          String
  secondaryButtonText String
  trustIndicatorText  String
  universities        String
  features            String
  backgroundGradient  String
  isActive            Boolean  @default(true)
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}

model Feature {
  id          String   @id @default(uuid())
  title       String
  description String
  icon        String
  benefits    String
  isActive    Boolean  @default(true)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Announcement {
  id        String   @id @default(uuid())
  content   String
  type      String
  pinned    Boolean  @default(false)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PricingPlan {
  id          String   @id @default(uuid())
  name        String
  price       String
  period      String
  features    String
  notIncluded String
  color       String
  icon        String
  popular     Boolean  @default(false)
  isActive    Boolean  @default(true)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Testimonial {
  id          String   @id @default(uuid())
  content     String
  author      String
  role        String
  subject     String
  improvement String
  image       String
  rating      Int      @default(5)
  isActive    Boolean  @default(true)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model TeamMember {
  id        String   @id @default(uuid())
  name      String
  role      String
  bio       String
  image     String
  isActive  Boolean  @default(true)
  order     Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model AboutUsContent {
  id                    String   @id @default(uuid())
  goal                  String
  mission               String
  rolesResponsibilities String
  isActive              Boolean  @default(true)
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
}

model ContactInfo {
  id        String   @id @default(uuid())
  type      String
  label     String
  value     String
  icon      String?
  isActive  Boolean  @default(true)
  order     Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SiteSettings {
  id        String   @id @default(uuid())
  key       String   @unique
  value     String
  type      String
  label     String
  category  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Tutor {
  id           String   @id @default(uuid())
  name         String
  subjects     String
  image        String
  contactName  String
  contactPhone String
  contactEmail String
  description  String
  ratings      String
  isActive     Boolean  @default(true)
  order        Int      @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Subject {
  id            String   @id @default(uuid())
  name          String
  description   String
  image         String
  category      String
  tutorsCount   Int      @default(0)
  popularTopics String
  difficulty    String
  isActive      Boolean  @default(true)
  order         Int      @default(0)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model FooterContent {
  id            String   @id @default(uuid())
  companyName   String
  tagline       String
  contactPhone  String
  contactEmail  String
  contactPerson String
  whatsappLink  String
  socialLinks   String
  quickLinks    String
  resourceLinks String
  copyrightText String
  isActive      Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model NavigationItem {
  id        String   @id @default(uuid())
  path      String
  label     String
  type      String
  isActive  Boolean  @default(true)
  order     Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model BecomeTutorContent {
  id             String   @id @default(uuid())
  title          String
  description    String
  requirements   String
  benefits       String
  applicationUrl String
  formEmbedCode  String?
  isActive       Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model ExamRewriteContent {
  id                 String   @id @default(uuid())
  title              String
  description        String
  heroTitle          String
  heroDescription    String
  benefits           String
  process            String
  subjects           String
  applicationFormUrl String
  grade11FormUrl     String?
  grade12FormUrl     String?
  pricingInfo        String
  isActive           Boolean  @default(true)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

model ContactUsContent {
  id           String   @id @default(uuid())
  title        String
  description  String
  logo         String
  formEndpoint String
  contactInfo  String
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model UniversityApplicationContent {
  id           String   @id @default(uuid())
  title        String
  description  String
  services     String
  process      String
  requirements String
  pricing      String
  formUrl      String?
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}



/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model about_us_content {
  id                     String?   @id
  goal                   String
  mission                String
  roles_responsibilities String?
  is_active              Boolean?  @default(true)
  created_at             DateTime? @default(now())
  updated_at             DateTime? @default(now())

  @@ignore
}

model announcements {
  id         Int       @id @default(autoincrement())
  content    String
  type       String?
  pinned     Boolean?  @default(false)
  created_at DateTime? @default(now())
  updated_at DateTime? @default(now())
}

model enrollments {
  id                Int       @id @default(autoincrement())
  student_id        Int
  course_id         Int
  progress          Int?      @default(0)
  enrollment_status String?
  last_updated      DateTime? @default(now())
  created_at        DateTime? @default(now())
  courses           Course    @relation(fields: [course_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  users             User      @relation(fields: [student_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model events {
  id            String?   @id
  title         String
  description   String?
  date          String
  time          String?
  location      String?
  type          String?
  attendees     Int?      @default(0)
  max_attendees Int?      @default(0)
  status        String?   @default("upcoming")
  created_at    DateTime? @default(now())
  updated_at    DateTime? @default(now())

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model exam_rewrite_content {
  id                 String?   @id
  title              String?
  description        String?
  heroTitle          String?
  heroDescription    String?
  benefits           String?
  process            String?
  subjects           String?
  applicationFormUrl String?
  grade11FormUrl     String?
  grade12FormUrl     String?
  pricingInfo        String?
  is_active          Boolean?  @default(true)
  created_at         DateTime? @default(now())
  updated_at         DateTime? @default(now())

  @@ignore
}

model features {
  id          Int       @id @default(autoincrement())
  title       String
  description String
  icon        String
  benefits    String?
  created_at  DateTime? @default(now())
  updated_at  DateTime? @default(now())
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model footer_content {
  id          String?   @id
  companyInfo String?
  socialLinks String?
  quickLinks  String?
  contactInfo String?
  updated_at  DateTime? @default(now())

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model hero_content {
  id         String?   @id
  title      String
  subtitle   String?
  buttonText String?
  buttonLink String?
  imageUrl   String?
  updated_at DateTime? @default(now())

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model navigation_items {
  id         String?   @id
  path       String
  label      String
  type       String    @default("main")
  order      Int?      @default(0)
  is_active  Boolean?  @default(true)
  created_at DateTime? @default(now())
  updated_at DateTime? @default(now())

  @@ignore
}



/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model pricing_plans {
  id         String?   @id
  name       String
  price      Decimal
  interval   String?
  features   String
  isPopular  Boolean?  @default(false)
  created_at DateTime? @default(now())

  @@ignore
}

model subjects {
  id          String    @id
  name        String    @unique(map: "sqlite_autoindex_subjects_2")
  description String?
  icon        String?
  created_at  DateTime? @default(now())
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model team_members {
  id         String?   @id
  name       String
  role       String
  bio        String?
  image      String?
  is_active  Boolean?  @default(true)
  order      Int?      @default(0)
  created_at DateTime? @default(now())
  updated_at DateTime? @default(now())

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model testimonials {
  id         String?   @id
  name       String
  role       String?
  content    String
  image      String?
  rating     Int?
  created_at DateTime? @default(now())

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model tutor_ratings {
  id          String?   @id
  tutor_id    String
  studentName String
  rating      Int
  comment     String?
  date        DateTime? @default(now())
  tutors      tutors    @relation(fields: [tutor_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@ignore
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model tutors {
  id            String?         @id
  name          String
  subjects      String
  image         String?
  contactName   String?
  contactPhone  String?
  contactEmail  String?
  description   String?
  created_at    DateTime?       @default(now())
  tutor_ratings tutor_ratings[]

  @@ignore
}

model ScheduledSession {
  id          String   @id @default(uuid())
  courseId    Int
  tutorId     Int
  title       String
  description String?
  scheduledAt DateTime
  duration    Int      // Duration in minutes
  status      String   @default("scheduled") // scheduled, active, completed, cancelled
  sessionId   String?  // Will be set when session actually starts
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  course      Course   @relation(fields: [courseId], references: [id])
  tutor       User     @relation(fields: [tutorId], references: [id])

  @@map("scheduled_sessions")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model university_application_content {
  id           String?   @id
  title        String?
  description  String?
  services     String?
  process      String?
  requirements String?
  pricing      String?
  formUrl      String?
  is_active    Boolean?  @default(true)
  created_at   DateTime? @default(now())
  updated_at   DateTime? @default(now())

  @@ignore
}
